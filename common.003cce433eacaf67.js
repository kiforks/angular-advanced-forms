"use strict";(self.webpackChunkangular_advanced_forms=self.webpackChunkangular_advanced_forms||[]).push([[592],{5584:(v,c,r)=>{r.d(c,{I:()=>M});var o=r(1571),i=r(433),n=r(4968),l=r(515),s=r(6451),a=r(8675),f=r(9300),m=r(6895);let _=(()=>{class t{}return t.messages={required:()=>"This field is required",requiredTrue:()=>"This field is required",email:()=>"It should be a valid email",minlength:({requiredLength:u})=>`The length should be at least ${u} characters`,banWords:({bannedWord:u})=>`The word "${u}" isn't allowed`,passwordShouldMatch:()=>"Password should match",pattern:()=>"Wrong format",uniqueName:()=>"Nickname is taken"},t})();const C=new o.OlP("Validation Messages",{providedIn:"root",factory:()=>_.messages});let p=(()=>{class t{constructor(){this.errorMessages=(0,o.f3M)(C)}transform(e,h){return this.errorMessages[e]?this.errorMessages[e](h):(console.warn(`Missing message for ${e} validator...`),"")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"validationErrorMessage",type:t,pure:!0,standalone:!0}),t})();function P(t,u){if(1&t&&(o.ynx(0),o._uU(1),o.ALo(2,"validationErrorMessage"),o.BQk()),2&t){const e=u.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,e.key,e.value)," ")}}let y=(()=>{class t{constructor(){this.errors=null}trackByFn(e,{key:h}){return h}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["validation-input-error"]],hostAttrs:[1,"input-error"],inputs:{errors:"errors"},standalone:!0,features:[o.jDz],decls:2,vars:4,consts:[[4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,h){1&e&&(o.YNc(0,P,3,4,"ng-container",0),o.ALo(1,"keyvalue")),2&e&&o.Q6J("ngForOf",o.lcZ(1,2,h.errors))("ngForTrackBy",h.trackByFn)},dependencies:[m.ez,m.sg,m.Nd,p],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),t})();var d=r(1110);let M=(()=>{class t{constructor(e){this.elementRef=e,this.errorViewContainerRef=(0,o.f3M)(o.s_b),this.ngControl=(0,o.f3M)(i.a5,{self:!0,optional:!0}),this.hostFormGroup=(0,o.f3M)(i.gN,{self:!0,optional:!0}),this.parentFormGroup=(0,o.f3M)(i.gN,{skipSelf:!0,optional:!0}),this.errorStateMatcher=(0,o.f3M)(d.z,{optional:!0})||this,this.control=this.ngControl||this.hostFormGroup,this.componentRef=null}ngOnInit(){queueMicrotask(()=>this.setData())}ngOnDestroy(){this.errorMessageTrigger.unsubscribe()}get form(){return this.parentFormGroup?.formDirective}renderComponent(){this.componentRef||(this.componentRef=this.errorViewContainerRef.createComponent(y),this.componentRef.changeDetectorRef.markForCheck()),this.componentRef.setInput("errors",this.control.errors)}destroyComponent(){this.componentRef?.destroy(),this.componentRef=null}setData(){if(!this.control.control)throw Error(`No control model for ${this.control.name} control...`);const{control:e}=this.control,h=e.statusChanges,D=(0,n.R)(this.elementRef.nativeElement,"blur"),O=(0,s.T)(h,D,this.form?this.form.ngSubmit:l.E);this.errorMessageTrigger=O.pipe((0,a.O)(e.status),function E(t){return(0,f.h)((u,e)=>t<=e)}(this.control instanceof i.On?1:0)).subscribe(()=>this.checkErrors())}checkErrors(){this.errorStateMatcher.isErrorVisible(this.control.control,this.form)?this.renderComponent():this.destroyComponent()}isErrorVisible(e,h){return Boolean(e&&e.invalid&&(e.dirty||h&&h.submitted))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","ngModel","",3,"validationNoErrors",""],["","formControl","",3,"validationNoErrors",""],["","formControlName","",3,"validationNoErrors",""],["","formGroupName","",3,"validationNoErrors",""],["","ngModelGroup","",3,"validationNoErrors",""]],inputs:{errorViewContainerRef:"errorViewContainerRef"},standalone:!0}),t})()},5504:(v,c,r)=>{r.d(c,{P:()=>i});var o=r(1571);let i=(()=>{class n{constructor(s){this.viewContainerRef=s}}return n.\u0275fac=function(s){return new(s||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","validationErrorViewContainer",""]],exportAs:["validationErrorViewContainer"],standalone:!0}),n})()},2671:(v,c,r)=>{r.d(c,{m:()=>i});var o=r(1571);let i=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","validationNoErrors",""]],standalone:!0}),n})()},6750:(v,c,r)=>{r.d(c,{u:()=>n});var o=r(1110),i=r(1571);let n=(()=>{class l{isErrorVisible(a,f){return Boolean(a&&a?.invalid&&(a.touched||f&&f.submitted))}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275dir=i.lG2({type:l,selectors:[["","validationOnTouchedError",""]],standalone:!0,features:[i._Bn([{provide:o.z,useExisting:l}])]}),l})()},1110:(v,c,r)=>{r.d(c,{z:()=>i});const i=new(r(1571).OlP)("Validation error state matcher")},2968:(v,c,r)=>{r.d(c,{J:()=>s});var o=r(1571),i=r(1327),n=r(433),l=r(8848);let s=(()=>{class a{constructor(){this.hostClass="form-field",this.data=(0,o.f3M)(i.Y),this.formControl=new n.NI(this.data.control.value,this.resolveValidators(this.data.control)),this.parentGroupDir=(0,o.f3M)(n.gN)}ngOnInit(){this.parentGroupDir.control.addControl(this.data.key,this.formControl)}resolveValidators({validators:E={}}){return Object.keys(E).map(m=>{const _=E[m];return"required"===m?n.kI.required:"email"===m?n.kI.email:"requiredTrue"===m?n.kI.requiredTrue:"minLength"===m&&"number"==typeof _?n.kI.minLength(_):"banWords"===m&&Array.isArray(_)?(0,l.$)(_):n.kI.nullValidator})}}return a.\u0275fac=function(E){return new(E||a)},a.\u0275dir=o.lG2({type:a,hostVars:2,hostBindings:function(E,m){2&E&&o.Tol(m.hostClass)}}),a})()},4627:(v,c,r)=>{r.d(c,{i:()=>s});var o=r(1571),i=r(433);r(6895),r(5584);const s={provide:i.gN,useFactory:()=>(0,o.f3M)(i.gN,{skipSelf:!0})}},8848:(v,c,r)=>{function o(i=[]){return({value:n})=>{const l=i.find(a=>a.toLowerCase()===n?.toLowerCase());return l?{banWords:{bannedWord:l}}:null}}r.d(c,{$:()=>o})},4968:(v,c,r)=>{r.d(c,{R:()=>_});var o=r(8421),i=r(9751),n=r(5577),l=r(1144),s=r(576),a=r(3268);const f=["addListener","removeListener"],E=["addEventListener","removeEventListener"],m=["on","off"];function _(d,M,t,u){if((0,s.m)(t)&&(u=t,t=void 0),u)return _(d,M,t).pipe((0,a.Z)(u));const[e,h]=function y(d){return(0,s.m)(d.addEventListener)&&(0,s.m)(d.removeEventListener)}(d)?E.map(D=>g=>d[D](M,g,t)):function p(d){return(0,s.m)(d.addListener)&&(0,s.m)(d.removeListener)}(d)?f.map(C(d,M)):function P(d){return(0,s.m)(d.on)&&(0,s.m)(d.off)}(d)?m.map(C(d,M)):[];if(!e&&(0,l.z)(d))return(0,n.z)(D=>_(D,M,t))((0,o.Xf)(d));if(!e)throw new TypeError("Invalid event target");return new i.y(D=>{const g=(...O)=>D.next(1<O.length?O:O[0]);return e(g),()=>h(g)})}function C(d,M){return t=>u=>d[t](M,u)}},5963:(v,c,r)=>{r.d(c,{H:()=>s});var o=r(9751),i=r(4986),n=r(3532);function s(a=0,f,E=i.P){let m=-1;return null!=f&&((0,n.K)(f)?E=f:m=f),new o.y(_=>{let C=function l(a){return a instanceof Date&&!isNaN(a)}(a)?+a-E.now():a;C<0&&(C=0);let p=0;return E.schedule(function(){_.closed||(_.next(p++),0<=m?this.schedule(void 0,m):_.complete())},C)})}}}]);