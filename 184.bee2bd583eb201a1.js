"use strict";(self.webpackChunkangular_advanced_forms=self.webpackChunkangular_advanced_forms||[]).push([[184],{2184:(J,p,s)=>{s.r(p),s.d(p,{TemplateFormComponent:()=>b});var m=s(6895),a=s(433),e=s(1571);let g=(()=>{class o{validate(n){const t=n.get("password"),l=n.get("confirm-password"),i={passwordShouldMatch:{mismatch:!0}};return t?.value===l?.value?null:(l?.setErrors(i),i)}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275dir=e.lG2({type:o,selectors:[["","templateFormPasswordMatchValidator",""]],standalone:!0,features:[e._Bn([{provide:a.Cf,useExisting:o,multi:!0}])]}),o})();var f=s(4004),c=s(262),h=s(9646),C=s(8746),M=s(529);let T=(()=>{class o{constructor(n,t){this.httpClient=n,this.cdr=t}validate({value:n}){const t={uniqueNickname:{isTaken:!0}},l={uniqueNickname:{unknownError:!0}};return this.httpClient.get(`https://jsonplaceholder.typicode.com/users?username=${n}`).pipe((0,f.U)(({length:i})=>0===i?null:t),(0,c.K)(()=>(0,h.of)(l)),(0,C.x)(()=>this.cdr.markForCheck()))}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(M.eN),e.Y36(e.sBO))},o.\u0275dir=e.lG2({type:o,selectors:[["","templateFormUniqueNicknameValidator",""]],standalone:!0,features:[e._Bn([{provide:a.SD,multi:!0,useExisting:o}])]}),o})(),_=(()=>{class o{constructor(){this.onChange=()=>{},this.bannedWords=[]}set banWords(n){this.bannedWords=Array.isArray(n)?n:[n],this.onChange()}validate({value:n}){const t=this.bannedWords.find(i=>i.toLowerCase()===n?.toLowerCase());return t?{banWords:{bannedWord:t}}:null}registerOnValidatorChange(n){this.onChange=n}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275dir=e.lG2({type:o,selectors:[["","templateFormBanWordValidator",""]],inputs:{banWords:["templateFormBanWordValidator","banWords"]},standalone:!0,features:[e._Bn([{provide:a.Cf,useExisting:o,multi:!0}])]}),o})();var v=s(5584),F=s(6750),Z=s(2671);function y(o,d){1&o&&(e.TgZ(0,"div",34),e._uU(1,"Checking..."),e.qZA())}function A(o,d){if(1&o&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&o){const n=d.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}const w=function(){return{updateOn:"submit"}},u=function(){return{updateOn:"blur"}},q=function(){return["test","test_test","dummy"]},N=function(){return[]};let b=(()=>{class o{constructor(){this.userInfo={firstName:"",lastName:"",nickname:"kifor.kostya",email:"k.kifor@tenantcloud.com",yearOfBirth:1996,passport:"",fullAddress:"",city:"Ivano-Frankivsk",postCode:123456,password:"123456",confirmPassword:"123456"}}get isAdult(){return(new Date).getFullYear()-this.userInfo.yearOfBirth>=18}get years(){const n=(new Date).getUTCFullYear();return Array(n-(n-40)).fill("").map((t,l)=>n-l)}ngAfterViewInit(){queueMicrotask(()=>{this.initialFormValues=this.form.value})}onSubmitForm(n,t){this.form.invalid||(console.log(t),console.log(n.form.controls),this.form.resetForm())}onReset(n){n.preventDefault(),this.form.resetForm()}onResetInitialClick(n){n.preventDefault(),this.form.resetForm(this.initialFormValues)}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["template-form"]],viewQuery:function(n,t){if(1&n&&e.Gf(a.F,5),2&n){let l;e.iGM(l=e.CRH())&&(t.form=l.first)}},standalone:!0,features:[e.jDz],decls:62,vars:25,consts:[[1,"form",3,"ngFormOptions","reset","ngSubmit"],["form","ngForm"],[1,"form-field"],["for","name"],["banWords","test","required","","minlength","2","name","first-name","type","text","id","name","placeholder","Enter your first name","validationOnTouchedError","",3,"ngModelOptions","ngModel","ngModelChange"],["for","last-name"],["required","","minlength","2","name","last-name","type","text","id","last-name","placeholder","Enter your last name","validationOnTouchedError","",3,"ngModelOptions","ngModel","ngModelChange"],["for","nickname"],["templateFormUniqueNicknameValidator","","required","","minlength","3","pattern","^[\\w.]+$","name","nickname","type","text","id","nickname","placeholder","Come up with a nickname",3,"ngModelOptions","templateFormBanWordValidator","ngModel","ngModelChange"],["nickname","ngModel"],["class","input-info",4,"ngIf"],["for","email"],["email","","required","","name","email","type","email","id","email","placeholder","Provide your email",3,"ngModel","ngModelChange"],[1,"form-field-inline-group"],[1,"form-field","form-field-small"],["for","year-of-birth"],["required","","id","year-of-birth","name","year-of-birth",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","passport"],["pattern","^[A-Z]{2}[0-9]{6}$","name","passport","type","text","id","passport","placeholder","Provide Passport Data",3,"required","ngModel","ngModelChange"],["ngModelGroup","address"],["for","full-address"],["required","","name","full-address","type","text","id","full-address","placeholder","Street name and house number",3,"ngModel","ngModelChange"],["for","city"],["required","","name","city","type","text","id","city","placeholder","City",3,"ngModel","ngModelChange"],["for","post-code"],["required","","name","post-code","type","number","id","post-code","placeholder","Post code",3,"ngModel","ngModelChange"],["ngModelGroup","password","templateFormPasswordMatchValidator",""],["for","password"],["required","","minlength","6","name","password","type","password","id","password","placeholder","Enter user's password",3,"ngModel","ngModelChange"],["for","confirm-password"],["name","confirm-password","type","password","id","confirm-password","placeholder","Confirm the password","validationNoErrors","",3,"ngModel","ngModelChange"],["type","reset",1,"reset-button"],["type","button",1,"reset-button",3,"click"],[1,"input-info"],[3,"value"]],template:function(n,t){if(1&n){const l=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("reset",function(r){return t.onReset(r)})("ngSubmit",function(r){e.CHM(l);const I=e.MAs(1);return e.KtG(t.onSubmitForm(I,r))}),e.TgZ(2,"div",2)(3,"label",3),e._uU(4,"First Name"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(r){return t.userInfo.firstName=r}),e.qZA()(),e.TgZ(6,"div",2)(7,"label",5),e._uU(8,"Last Name"),e.qZA(),e.TgZ(9,"input",6),e.NdJ("ngModelChange",function(r){return t.userInfo.lastName=r}),e.qZA()(),e.TgZ(10,"div",2)(11,"label",7),e._uU(12,"Nickname"),e.qZA(),e.TgZ(13,"input",8,9),e.NdJ("ngModelChange",function(r){return t.userInfo.nickname=r}),e.qZA(),e.YNc(15,y,2,0,"div",10),e.qZA(),e.TgZ(16,"div",2)(17,"label",11),e._uU(18,"Email"),e.qZA(),e.TgZ(19,"input",12),e.NdJ("ngModelChange",function(r){return t.userInfo.email=r}),e.qZA()(),e.TgZ(20,"div",13)(21,"div",14)(22,"label",15),e._uU(23,"Year of birth"),e.qZA(),e.TgZ(24,"select",16),e.NdJ("ngModelChange",function(r){return t.userInfo.yearOfBirth=r}),e.YNc(25,A,2,2,"option",17),e.qZA()(),e.TgZ(26,"div",14)(27,"label",18),e._uU(28,"Passport Number"),e.qZA(),e.TgZ(29,"input",19),e.NdJ("ngModelChange",function(r){return t.userInfo.passport=r}),e.qZA()()(),e.TgZ(30,"fieldset",20)(31,"legend"),e._uU(32,"Address"),e.qZA(),e.TgZ(33,"div",2)(34,"label",21),e._uU(35,"Full Adress"),e.qZA(),e.TgZ(36,"input",22),e.NdJ("ngModelChange",function(r){return t.userInfo.fullAddress=r}),e.qZA()(),e.TgZ(37,"div",2)(38,"label",23),e._uU(39,"City"),e.qZA(),e.TgZ(40,"input",24),e.NdJ("ngModelChange",function(r){return t.userInfo.city=r}),e.qZA()(),e.TgZ(41,"div",2)(42,"label",25),e._uU(43,"Post Code"),e.qZA(),e.TgZ(44,"input",26),e.NdJ("ngModelChange",function(r){return t.userInfo.postCode=r}),e.qZA()()(),e.TgZ(45,"fieldset",27)(46,"legend"),e._uU(47,"User Password"),e.qZA(),e.TgZ(48,"div",2)(49,"label",28),e._uU(50,"Password"),e.qZA(),e.TgZ(51,"input",29),e.NdJ("ngModelChange",function(r){return t.userInfo.password=r}),e.qZA()(),e.TgZ(52,"div",2)(53,"label",30),e._uU(54,"Confirm password"),e.qZA(),e.TgZ(55,"input",31),e.NdJ("ngModelChange",function(r){return t.userInfo.confirmPassword=r}),e.qZA()()(),e.TgZ(56,"button"),e._uU(57,"Save"),e.qZA(),e.TgZ(58,"button",32),e._uU(59,"Reset"),e.qZA(),e.TgZ(60,"button",33),e.NdJ("click",function(r){return t.onResetInitialClick(r)}),e._uU(61,"Initial data"),e.qZA()()}if(2&n){const l=e.MAs(14);e.Q6J("ngFormOptions",e.DdM(19,w)),e.xp6(5),e.Q6J("ngModelOptions",e.DdM(20,u))("ngModel",t.userInfo.firstName),e.xp6(4),e.Q6J("ngModelOptions",e.DdM(21,u))("ngModel",t.userInfo.lastName),e.xp6(4),e.Q6J("ngModelOptions",e.DdM(22,u))("templateFormBanWordValidator",t.isAdult?e.DdM(23,q):e.DdM(24,N))("ngModel",t.userInfo.nickname),e.xp6(2),e.Q6J("ngIf",l.pending),e.xp6(4),e.Q6J("ngModel",t.userInfo.email),e.xp6(5),e.Q6J("ngModel",t.userInfo.yearOfBirth),e.xp6(1),e.Q6J("ngForOf",t.years),e.xp6(4),e.Q6J("required",t.isAdult)("ngModel",t.userInfo.passport),e.xp6(7),e.Q6J("ngModel",t.userInfo.fullAddress),e.xp6(4),e.Q6J("ngModel",t.userInfo.city),e.xp6(4),e.Q6J("ngModel",t.userInfo.postCode),e.xp6(7),e.Q6J("ngModel",t.userInfo.password),e.xp6(4),e.Q6J("ngModel",t.userInfo.confirmPassword)}},dependencies:[m.ez,m.sg,m.O5,a.u5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.Q7,a.wO,a.c5,a.on,a.On,a.Mq,a.F,g,T,_,v.I,F.u,Z.m],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;justify-content:center;align-items:center;width:100%}",".form[_ngcontent-%COMP%]{min-width:395px}.form-field[_ngcontent-%COMP%]{width:100%;height:93px}.form-field-small[_ngcontent-%COMP%]{max-width:48%}.form-field-inline-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0}),o})()}}]);